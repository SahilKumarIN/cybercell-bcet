---
import Layout from "../layouts/Layout.astro";
import Header from "../components/Header.astro";
import Footer from "../components/Footer.astro";
---

<Layout
  title="Contact Us - CyberCell BCET"
  description="Get in touch with CyberCell BCET. Find our contact information, location, and send us a message."
>
  <Header />
  <main>
    <!-- Hero Section -->
    <section class="hero-section">
      <div class="container">
        <div class="hero-content">
          <h1 class="hero-title">Get In Touch</h1>
          <p class="hero-subtitle">
            Ready to join our cybersecurity community? We'd love to hear from
            you!
          </p>
        </div>
      </div>
    </section>

    <!-- Contact Information & Form -->
    <section class="section">
      <div class="container">
        <div class="contact-grid">
          <!-- Contact Information -->
          <div class="contact-info">
            <div class="contact-card card">
              <div class="contact-icon">
                <svg
                  width="32"
                  height="32"
                  fill="none"
                  stroke="currentColor"
                  viewBox="0 0 24 24"
                >
                  <path
                    stroke-linecap="round"
                    stroke-linejoin="round"
                    stroke-width="2"
                    d="M17.657 16.657L13.414 20.9a1.998 1.998 0 01-2.827 0l-4.244-4.243a8 8 0 1111.314 0z"
                  ></path>
                  <path
                    stroke-linecap="round"
                    stroke-linejoin="round"
                    stroke-width="2"
                    d="M15 11a3 3 0 11-6 0 3 3 0 016 0z"></path>
                </svg>
              </div>
              <h3>Visit Us</h3>
              <p>
                Bengal College of Engineering and Technology<br />Bidhannagar,
                Durgapur, West Bengal 713212<br />India
              </p>
              <a href="https://maps.google.com" class="btn btn-ghost"
                >Get Directions</a
              >
            </div>

            <div class="contact-card card">
              <div class="contact-icon">
                <svg
                  width="32"
                  height="32"
                  fill="none"
                  stroke="currentColor"
                  viewBox="0 0 24 24"
                >
                  <path
                    stroke-linecap="round"
                    stroke-linejoin="round"
                    stroke-width="2"
                    d="M3 8l7.89 4.26a2 2 0 002.22 0L21 8M5 19h14a2 2 0 002-2V7a2 2 0 00-2-2H5a2 2 0 00-2 2v10a2 2 0 002 2z"
                  ></path>
                </svg>
              </div>
              <h3>Email Us</h3>
              <p>
                <a href="mailto:cybercell.bcet@gmail.com"
                  >cybercell.bcet@gmail.com</a
                ><br />
              </p>
              <a href="mailto:cybercell.bcet@gmail.com" class="btn btn-ghost"
                >Send Email</a
              >
            </div>

            <div class="contact-card card">
              <div class="contact-icon">
                <svg
                  width="32"
                  height="32"
                  fill="none"
                  stroke="currentColor"
                  viewBox="0 0 24 24"
                >
                  <path
                    stroke-linecap="round"
                    stroke-linejoin="round"
                    stroke-width="2"
                    d="M3 5a2 2 0 012-2h3.28a1 1 0 01.948.684l1.498 4.493a1 1 0 01-.502 1.21l-2.257 1.13a11.042 11.042 0 005.516 5.516l1.13-2.257a1 1 0 011.21-.502l4.493 1.498a1 1 0 01.684.949V19a2 2 0 01-2 2h-1C9.716 21 3 14.284 3 6V5z"
                  ></path>
                </svg>
              </div>
              <h3>Call Us</h3>
              <p>
                <a href="tel:+918271103014">+91 82711 03014</a><br />
              </p>
              <a href="tel:+918271103014" class="btn btn-ghost">Call Now</a>
            </div>

            <div class="social-links card">
              <h3>Follow Us</h3>
              <div class="social-grid">
                <!-- Linkedin -->
                <a
                  href="https://linkedin.com/company/cybercell-bcet"
                  target="_blank"
                  class="social-card"
                >
                  <svg
                    width="24"
                    height="24"
                    fill="currentColor"
                    viewBox="0 0 24 24"
                  >
                    <path
                      d="M19 0h-14c-2.761 0-5 2.239-5 5v14c0 2.761 2.239 5 5 5h14c2.761 0 5-2.239 5-5v-14c0-2.761-2.239-5-5-5zm-11 19h-3v-11h3v11zm-1.5-12.268c-.966 0-1.75-.79-1.75-1.764s.784-1.764 1.75-1.764 1.75.79 1.75 1.764-.783 1.764-1.75 1.764zm13.5 12.268h-3v-5.604c0-3.368-4-3.113-4 0v5.604h-3v-11h3v1.765c1.396-2.586 7-2.777 7 2.476v6.759z"
                    ></path>
                  </svg>
                  <span>LinkedIn</span>
                </a>

                <!-- Github -->
                <a
                  href="https://github.com/CYBERCELL-BCET"
                  target="_blank"
                  class="social-card"
                >
                  <svg
                    width="24"
                    height="24"
                    fill="currentColor"
                    viewBox="0 0 24 24"
                  >
                    <path
                      d="M12 0c-6.626 0-12 5.373-12 12 0 5.302 3.438 9.8 8.207 11.387.599.111.793-.261.793-.577v-2.234c-3.338.726-4.033-1.416-4.033-1.416-.546-1.387-1.333-1.756-1.333-1.756-1.089-.745.083-.729.083-.729 1.205.084 1.839 1.237 1.839 1.237 1.07 1.834 2.807 1.304 3.492.997.107-.775.418-1.305.762-1.604-2.665-.305-5.467-1.334-5.467-5.931 0-1.311.469-2.381 1.236-3.221-.124-.303-.535-1.524.117-3.176 0 0 1.008-.322 3.301 1.23.957-.266 1.983-.399 3.003-.404 1.02.005 2.047.138 3.006.404 2.291-1.552 3.297-1.23 3.297-1.23.653 1.653.242 2.874.118 3.176.77.84 1.235 1.911 1.235 3.221 0 4.609-2.807 5.624-5.479 5.921.43.372.823 1.102.823 2.222v3.293c0 .319.192.694.801.576 4.765-1.589 8.199-6.086 8.199-11.386 0-6.627-5.373-12-12-12z"
                    ></path>
                  </svg>
                  <span>GitHub</span>
                </a>

                <!-- Instagram -->
                <a
                  href="https://www.instagram.com/cybercell_bcet"
                  target="_blank"
                  class="social-card"
                >
                  <img src="/instagram.svg" alt="Instagram Icon" />
                  <span>Instagram</span>
                </a>

                <!-- Facebook -->
                <a
                  href="https://www.facebook.com/cybercell.bcet"
                  target="_blank"
                  class="social-card"
                >
                  <img
                    src="/facebook.svg"
                    alt="Facebook Icon"
                    width="24"
                    height="24"
                  />
                  <span>Facebook</span>
                </a>
              </div>
            </div>
          </div>

          <!-- Contact Form -->
          <div class="contact-form-section">
            <div class="contact-form card">
              <h2>Send us a Message</h2>
              <p>
                Have a question or want to get involved? We'd love to hear from
                you.
              </p>

              <form class="form" id="contactForm">
                <div class="form-row">
                  <div class="form-group">
                    <label for="firstName">First Name *</label>
                    <input
                      type="text"
                      id="firstName"
                      name="firstName"
                      required
                    />
                  </div>

                  <div class="form-group">
                    <label for="lastName">Last Name *</label>
                    <input type="text" id="lastName" name="lastName" required />
                  </div>
                </div>

                <div class="form-group">
                  <label for="email">Email Address *</label>
                  <input type="email" id="email" name="email" required />
                </div>

                <div class="form-group">
                  <label for="phone">Phone Number</label>
                  <input type="tel" id="phone" name="phone" />
                </div>

                <div class="form-group">
                  <label for="year">Academic Year</label>
                  <select id="year" name="year">
                    <option value="">Select your year</option>
                    <option value="first">First Year</option>
                    <option value="second">Second Year</option>
                    <option value="third">Third Year</option>
                    <option value="final">Final Year</option>
                    <option value="postgrad">Post Graduate</option>
                    <option value="faculty">Faculty</option>
                    <option value="other">Other</option>
                  </select>
                </div>

                <div class="form-group">
                  <label for="subject">Subject *</label>
                  <input
                    type="text"
                    id="subject"
                    name="subject"
                    placeholder="What is this regarding?"
                    required
                  />
                </div>

                <div class="form-group">
                  <label for="message">Message *</label>
                  <textarea
                    id="message"
                    name="message"
                    rows="6"
                    placeholder="Tell us about yourself, your interests, or any questions you have..."
                    required></textarea>
                </div>

                <!-- <div class="form-group checkbox-group">
                  <label class="checkbox-label">
                    <input type="checkbox" id="newsletter" name="newsletter" />
                    <span class="checkmark"></span>
                    Subscribe to our newsletter for updates on events and activities
                  </label>
                </div> -->

                <!-- <div class="form-group checkbox-group">
                  <label class="checkbox-label">
                    <input
                      type="checkbox"
                      id="privacy"
                      name="privacy"
                      required
                    />
                    <span class="checkmark"></span>
                    I agree to the <a href="/privacy">Privacy Policy</a> and <a
                      href="/terms">Terms of Service</a
                    > *
                  </label>
                </div> -->

                <button type="submit" class="btn btn-primary form-submit">
                  <span class="btn-text">Send Message</span>
                  <span class="btn-loading" style="display: none;"
                    >Sending...</span
                  >
                </button>
              </form>
            </div>
          </div>
        </div>
      </div>
    </section>

    <!-- Office Hours -->
    <section class="section office-hours-section">
      <div class="container">
        <div class="section-header">
          <h2 class="section-title">Office Hours</h2>
          <p class="section-subtitle">
            When you can find us at the CyberCell lab
          </p>
        </div>

        <div class="office-hours-grid">
          <div class="hours-card card">
            <h3>Regular Hours</h3>
            <div class="hours-list">
              <div class="hours-item">
                <span class="day">Tuesday - Saturday</span>
                <span class="time">9:00 AM - 6:00 PM</span>
              </div>
              <div class="hours-item">
                <span class="day">Monday</span>
                <span class="time">10:00 AM - 4:00 PM</span>
              </div>
              <div class="hours-item">
                <span class="day">Sunday</span>
                <span class="time">Closed</span>
              </div>
            </div>
          </div>

          <div class="hours-card card">
            <h3>Workshop Hours</h3>
            <div class="hours-list">
              <div class="hours-item">
                <span class="day">Weekday Workshops</span>
                <span class="time">3:30 PM - 5:30 PM</span>
              </div>
              <div class="hours-item">
                <span class="day">Weekend Workshops</span>
                <span class="time">10:00 AM - 5:00 PM</span>
              </div>
              <div class="hours-item">
                <span class="day">Special Events</span>
                <span class="time">As Scheduled</span>
              </div>
            </div>
          </div>
        </div>
      </div>
    </section>

    <!-- FAQ Section -->
    <section class="section faq-section">
      <div class="container">
        <div class="section-header">
          <h2 class="section-title">Frequently Asked Questions</h2>
          <p class="section-subtitle">Quick answers to common questions</p>
        </div>

        <div class="faq-grid">
          <div class="faq-item card">
            <h4>How can I join CyberCell BCET?</h4>
            <p>
              You can join by filling out our membership form, attending our
              orientation sessions, or contacting us directly. We welcome
              students from all years and departments.
            </p>
          </div>

          <div class="faq-item card">
            <h4>Do I need prior cybersecurity experience?</h4>
            <p>
              Not at all! We welcome beginners and provide comprehensive
              training from basics to advanced topics. Our mentorship program
              helps new members get started.
            </p>
          </div>

          <div class="faq-item card">
            <h4>What activities does CyberCell organize?</h4>
            <p>
              We organize workshops, CTF competitions, guest lectures, research
              projects, and networking events. Check our events page for
              upcoming activities.
            </p>
          </div>

          <!-- <div class="faq-item card">
            <h4>Is there a membership fee?</h4>
            <p>
              Basic membership is free for all BCET students. Some specialized
              workshops or certification programs may have nominal fees to cover
              materials and resources.
            </p>
          </div> -->

          <div class="faq-item card">
            <h4>Can I contribute to research projects?</h4>
            <p>
              Absolutely! We encourage members to participate in research
              projects. We provide guidance and resources for students
              interested in cybersecurity research.
            </p>
          </div>

          <div class="faq-item card">
            <h4>How often do you meet?</h4>
            <p>
              We have regular weekly meetings, monthly workshops, and special
              events throughout the semester. The schedule is shared with all
              members in advance.
            </p>
          </div>
        </div>
      </div>
    </section>
  </main>
  <Footer />
</Layout>

<style>
  .hero-section {
    padding: 120px 0 80px;
    background: var(--gradient-bg);
    position: relative;
    overflow: hidden;
  }

  .hero-section::before {
    content: "";
    position: absolute;
    top: 0;
    left: 0;
    right: 0;
    bottom: 0;
    background: radial-gradient(
      circle at 50% 50%,
      rgba(0, 212, 255, 0.1) 0%,
      transparent 70%
    );
  }

  .hero-content {
    text-align: center;
    position: relative;
    z-index: 1;
  }

  .hero-title {
    font-size: clamp(2.5rem, 5vw, 4rem);
    margin-bottom: var(--space-6);
    background: var(--gradient-primary);
    -webkit-background-clip: text;
    -webkit-text-fill-color: transparent;
    background-clip: text;
  }

  .hero-subtitle {
    font-size: clamp(1.125rem, 2vw, 1.5rem);
    color: var(--text-secondary);
    max-width: 600px;
    margin: 0 auto;
  }

  .contact-grid {
    display: grid;
    grid-template-columns: 1fr 1.5fr;
    gap: var(--space-16);
    align-items: start;
  }

  .contact-info {
    display: flex;
    flex-direction: column;
    gap: var(--space-6);
  }

  .contact-card {
    padding: var(--space-6);
    text-align: center;
    transition: all var(--transition-normal);
  }

  .contact-card:hover {
    transform: translateY(-4px);
    border-color: var(--primary);
    box-shadow: var(--shadow-lg);
  }

  .contact-icon {
    color: var(--primary);
    margin-bottom: var(--space-4);
    display: flex;
    justify-content: center;
  }

  .contact-card h3 {
    font-size: 1.25rem;
    margin-bottom: var(--space-3);
    color: var(--text-primary);
  }

  .contact-card p {
    color: var(--text-secondary);
    line-height: 1.6;
    margin-bottom: var(--space-4);
  }

  .contact-card a {
    color: var(--primary);
    transition: color var(--transition-fast);
  }

  .contact-card a:hover {
    color: var(--primary-light);
  }

  .social-links {
    padding: var(--space-6);
  }

  .social-links h3 {
    text-align: center;
    margin-bottom: var(--space-6);
    color: var(--text-primary);
  }

  .social-grid {
    display: grid;
    grid-template-columns: repeat(2, 1fr);
    gap: var(--space-3);
  }

  .social-card {
    display: flex;
    align-items: center;
    gap: var(--space-3);
    padding: var(--space-3) var(--space-4);
    background: rgba(0, 212, 255, 0.1);
    border: 1px solid rgba(0, 212, 255, 0.2);
    border-radius: var(--radius-lg);
    color: var(--primary);
    transition: all var(--transition-fast);
    text-decoration: none;
    font-size: 0.875rem;
  }

  .social-card:hover {
    background: rgba(0, 212, 255, 0.2);
    transform: translateY(-2px);
    color: var(--primary);
  }

  .contact-form {
    padding: var(--space-8);
  }

  .contact-form h2 {
    font-size: 2rem;
    margin-bottom: var(--space-3);
    color: var(--text-primary);
  }

  .contact-form > p {
    color: var(--text-secondary);
    margin-bottom: var(--space-8);
    font-size: 1.125rem;
  }

  .form {
    display: flex;
    flex-direction: column;
    gap: var(--space-6);
  }

  .form-row {
    display: grid;
    grid-template-columns: 1fr 1fr;
    gap: var(--space-4);
  }

  .form-group {
    display: flex;
    flex-direction: column;
    gap: var(--space-2);
  }

  .form-group label {
    font-weight: 500;
    color: var(--text-primary);
    font-size: 0.875rem;
  }

  .form-group input,
  .form-group select,
  .form-group textarea {
    padding: var(--space-3) var(--space-4);
    background: var(--bg-primary);
    border: 1px solid var(--border-secondary);
    border-radius: var(--radius-lg);
    color: var(--text-primary);
    font-size: 1rem;
    transition: all var(--transition-fast);
    font-family: inherit;
  }

  .form-group input:focus,
  .form-group select:focus,
  .form-group textarea:focus {
    outline: none;
    border-color: var(--primary);
    box-shadow: 0 0 0 3px rgba(0, 212, 255, 0.1);
  }

  .form-group textarea {
    resize: vertical;
    min-height: 120px;
  }

  .checkbox-group {
    flex-direction: row;
    align-items: flex-start;
    gap: var(--space-3);
  }

  .checkbox-label {
    display: flex;
    align-items: flex-start;
    gap: var(--space-3);
    cursor: pointer;
    font-size: 0.875rem;
    line-height: 1.5;
  }

  .checkbox-label input[type="checkbox"] {
    display: none;
  }

  .checkmark {
    width: 20px;
    height: 20px;
    background: var(--bg-primary);
    border: 2px solid var(--border-secondary);
    border-radius: var(--radius-sm);
    position: relative;
    transition: all var(--transition-fast);
    flex-shrink: 0;
    margin-top: 2px;
  }

  .checkbox-label input[type="checkbox"]:checked + .checkmark {
    background: var(--primary);
    border-color: var(--primary);
  }

  .checkbox-label input[type="checkbox"]:checked + .checkmark::after {
    content: "✓";
    position: absolute;
    top: 50%;
    left: 50%;
    transform: translate(-50%, -50%);
    color: white;
    font-size: 12px;
    font-weight: bold;
  }

  .form-submit {
    width: 100%;
    margin-top: var(--space-4);
    position: relative;
  }

  .btn-loading {
    position: absolute;
    top: 50%;
    left: 50%;
    transform: translate(-50%, -50%);
  }

  .office-hours-section {
    background: var(--bg-secondary);
  }

  .office-hours-grid {
    display: grid;
    grid-template-columns: repeat(auto-fit, minmax(300px, 1fr));
    gap: var(--space-6);
  }

  .hours-card {
    padding: var(--space-6);
    text-align: center;
  }

  .hours-card h3 {
    font-size: 1.5rem;
    margin-bottom: var(--space-6);
    color: var(--text-primary);
  }

  .hours-list {
    display: flex;
    flex-direction: column;
    gap: var(--space-4);
  }

  .hours-item {
    display: flex;
    justify-content: space-between;
    align-items: center;
    padding: var(--space-3) 0;
    border-bottom: 1px solid var(--border-secondary);
  }

  .hours-item:last-child {
    border-bottom: none;
  }

  .day {
    font-weight: 500;
    color: var(--text-primary);
  }

  .time {
    color: var(--primary);
    font-weight: 600;
  }

  .emergency-info {
    text-align: center;
  }

  .emergency-info p {
    margin-bottom: var(--space-4);
    color: var(--text-secondary);
  }

  .emergency-number {
    display: block;
    font-size: 1.5rem;
    font-weight: 700;
    color: var(--accent);
    margin-bottom: var(--space-3);
    text-decoration: none;
  }

  .emergency-number:hover {
    color: var(--accent-dark);
  }

  .emergency-note {
    font-size: 0.875rem;
    color: var(--text-muted);
  }

  .faq-section {
    background: var(--bg-tertiary);
  }

  .faq-grid {
    display: grid;
    grid-template-columns: repeat(auto-fit, minmax(350px, 1fr));
    gap: var(--space-6);
  }

  .faq-item {
    padding: var(--space-6);
  }

  .faq-item h4 {
    font-size: 1.25rem;
    margin-bottom: var(--space-3);
    color: var(--text-primary);
  }

  .faq-item p {
    color: var(--text-secondary);
    line-height: 1.6;
  }

  @media (max-width: 1024px) {
    .contact-grid {
      grid-template-columns: 1fr;
      gap: var(--space-12);
    }

    .social-grid {
      grid-template-columns: 1fr;
    }
  }

  @media (max-width: 768px) {
    .form-row {
      grid-template-columns: 1fr;
    }

    .office-hours-grid {
      grid-template-columns: 1fr;
    }

    .faq-grid {
      grid-template-columns: 1fr;
    }

    .contact-form {
      padding: var(--space-6);
    }
  }
</style>

<script>
  import { addMessage } from "../db/FirebaseFunctions.js";
  document.addEventListener("DOMContentLoaded", () => {
    const contactForm = document.getElementById("contactForm");

    contactForm?.addEventListener("submit", async (e) => {
      e.preventDefault();

      const firstName = document.querySelector("#firstName").value;
      const lastName = document.querySelector("#lastName").value;
      const email = document.querySelector("#email").value;
      const phone = document.querySelector("#phone").value;
      const year = document.querySelector("#year").value;
      const subject = document.querySelector("#subject").value;
      const message = document.querySelector("#message").value;

      const submitBtn = contactForm.querySelector(".form-submit");
      const btnText = submitBtn.querySelector(".btn-text");
      const btnLoading = submitBtn.querySelector(".btn-loading");

      // Show loading state
      btnText.style.display = "none";
      btnLoading.style.display = "block";
      submitBtn.disabled = true;

      addMessage({
        name: firstName + " " + lastName,
        email,
        phone,
        year,
        subject,
        message,
        isSeen: false,
        isArchived: false,
      })
        .then(() => {
          alert("Thank you for your message! We'll get back to you soon.");
        })
        .catch((err) => {
          alert(
            "There was an error sending your message! Please try again after some time."
          );
        })
        .finally(() => {
          contactForm.reset();

          btnText.style.display = "block";
          btnLoading.style.display = "none";
          submitBtn.disabled = false;
        });
    });
  });
</script>
